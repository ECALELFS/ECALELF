<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ECALELF: anyVar_class Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>anyVar_class Class Reference</h1><!-- doxytag: class="anyVar_class" -->
<p>class for estimation of basic quantities for any Float_t branch in the tree  
<a href="#_details">More...</a></p>

<p><a href="../../db/d8b/classanyVar__class-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a92aa527c8c1544b744d189e8bfc1851d">anyVar_class</a> (TChain *data_chain_, std::vector&lt; std::string &gt; branchNames, <a class="el" href="../../d5/d11/classElectronCategory__class.html">ElectronCategory_class</a> &amp;cutter, std::string massBranchName, std::string outDirFitRes, TDirectory *dir, bool updateOnly=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a0545aac5fc2e9ffdc3e8c314e11047"></a><!-- doxytag: member="anyVar_class::Import" ref="a5a0545aac5fc2e9ffdc3e8c314e11047" args="(TString commonCut, TString eleID_, std::set&lt; TString &gt; &amp;branchList, unsigned int modulo=1)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a5a0545aac5fc2e9ffdc3e8c314e11047">Import</a> (TString commonCut, TString eleID_, std::set&lt; TString &gt; &amp;branchList, unsigned int modulo=1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">to be called in the main <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a69e00468cf4728ef5d6f9eef764f8651">TreeAnalyzeShervin</a> (std::string region, TCut cut_ele1, TCut cut_ele2, float scale=1., float smearing=0.)</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d06d7b493a5c7b958deb2fd8f9030c1"></a><!-- doxytag: member="anyVar_class::ImportTree" ref="a4d06d7b493a5c7b958deb2fd8f9030c1" args="(TChain *chain, TCut &amp;commonCut, std::set&lt; TString &gt; &amp;commonCutBranches, std::set&lt; TString &gt; &amp;branchList, unsigned int modulo)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a4d06d7b493a5c7b958deb2fd8f9030c1">ImportTree</a> (TChain *chain, TCut &amp;commonCut, std::set&lt; TString &gt; &amp;commonCutBranches, std::set&lt; TString &gt; &amp;branchList, unsigned int modulo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">add to the chain the entry list with selected events, the returned pointer is the same as the one in input <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26990cfa82b6f4b04d3d1bad9b3fcc2b"></a><!-- doxytag: member="anyVar_class::TreeToTree" ref="a26990cfa82b6f4b04d3d1bad9b3fcc2b" args="(TChain *chain, std::set&lt; TString &gt; &amp;branchList, unsigned int modulo=0)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a26990cfa82b6f4b04d3d1bad9b3fcc2b">TreeToTree</a> (TChain *chain, std::set&lt; TString &gt; &amp;branchList, unsigned int modulo=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">skim the input TChain with selected events, copying only active branches <br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b08c3e7523497412bb795c6778c1450"></a><!-- doxytag: member="anyVar_class::_statfiles" ref="a9b08c3e7523497412bb795c6778c1450" args="" -->
std::vector&lt; std::unique_ptr<br class="typebreak"/>
&lt; std::ofstream &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a9b08c3e7523497412bb795c6778c1450">_statfiles</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">one file for each branch, here the <a class="el" href="../../d2/da7/classstats.html" title="class that provides statistical tools">stats</a> are saved <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a554375af3dec7c7ab4fef3cdbad4aa38"></a><!-- doxytag: member="anyVar_class::massBranchName_" ref="a554375af3dec7c7ab4fef3cdbad4aa38" args="" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a554375af3dec7c7ab4fef3cdbad4aa38">massBranchName_</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">branch name for the di-object invariant mass <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ff6c21abfc105c1edd6c32f4402b0ee"></a><!-- doxytag: member="anyVar_class::weight" ref="a3ff6c21abfc105c1edd6c32f4402b0ee" args="" -->
Double_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/da1/classanyVar__class.html#a3ff6c21abfc105c1edd6c32f4402b0ee">weight</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">variable with the total event weight <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>class for estimation of basic quantities for any Float_t branch in the tree </p>
<dl class="user"><dt><b>How to test linearity</b></dt><dd><div class="fragment"><pre class="fragment">
for scale in 0.98 0.99 0.995 1 1.005 1.01 1.02 ; do mkdir -p scale_${scale}; ./bin/ZFitter.exe -f data/validation/test_ss.dat --regionsFile=data/regions/validation.dat  --noPU --commonCut="Et_25" --outDirFitResData=scale_${scale}/ --scale=$scale &gt; scale_${scale}/scale.log; done
</pre></div> with fish: <div class="fragment"><pre class="fragment">
for scale in scale_*; set scale (echo $scale | sed 's|scale_||') ; echo -ne "$scale\t"; grep EB-gold scale_{$scale}/invMass*.dat; end &gt; p.dat
</pre></div> in gnuplot: <div class="fragment"><pre class="fragment">
f(x) = m * x + q
p 'p.dat' u ($1-1):($7) w lp
fit f(x) 'p.dat' u ($1-1):($7) via m,q
rep f(x)
print m/q
</pre></div> </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a92aa527c8c1544b744d189e8bfc1851d"></a><!-- doxytag: member="anyVar_class::anyVar_class" ref="a92aa527c8c1544b744d189e8bfc1851d" args="(TChain *data_chain_, std::vector&lt; std::string &gt; branchNames, ElectronCategory_class &amp;cutter, std::string massBranchName, std::string outDirFitRes, TDirectory *dir, bool updateOnly=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anyVar_class::anyVar_class </td>
          <td>(</td>
          <td class="paramtype">TChain *&nbsp;</td>
          <td class="paramname"> <em>data_chain_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&nbsp;</td>
          <td class="paramname"> <em>branchNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d11/classElectronCategory__class.html">ElectronCategory_class</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>cutter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>massBranchName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>outDirFitRes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TDirectory *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>updateOnly</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data_chain_</em>&nbsp;</td><td>chain with the data to be analyzed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>branchNames</em>&nbsp;</td><td>vector of &lt;branchName, kType&gt; </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cutter</em>&nbsp;</td><td>already contructed with the right energySC branch set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>massBranchName</em>&nbsp;</td><td>name of the invariant mass branch </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outDirFitRes</em>&nbsp;</td><td>name of the output directory storing the files with the <a class="el" href="../../d2/da7/classstats.html" title="class that provides statistical tools">stats</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>updateOnly</em>&nbsp;</td><td>if true opens the output files in append mode </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="../../de/d7b/anyVar__class_8h_source.html#l00111">_statfiles</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a69e00468cf4728ef5d6f9eef764f8651"></a><!-- doxytag: member="anyVar_class::TreeAnalyzeShervin" ref="a69e00468cf4728ef5d6f9eef764f8651" args="(std::string region, TCut cut_ele1, TCut cut_ele2, float scale=1., float smearing=0.)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anyVar_class::TreeAnalyzeShervin </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TCut&nbsp;</td>
          <td class="paramname"> <em>cut_ele1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TCut&nbsp;</td>
          <td class="paramname"> <em>cut_ele2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>scale</em> = <code>1.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>smearing</em> = <code>0.</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VOID</em>&nbsp;</td><td>The method is void, but it prints to one file the region name and the <a class="el" href="../../d2/da7/classstats.html">stats</a>. The name of the output file is the same as the branch used to collect the stat. Refer to <a class="el" href="../../d2/da7/classstats.html" title="class that provides statistical tools">stats</a> to see what is the print format </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="../../de/d7b/anyVar__class_8h_source.html#l00111">_statfiles</a>, and <a class="el" href="../../de/d7b/anyVar__class_8h_source.html#l00115">massBranchName_</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ZFitter/interface/anyVar_class.h</li>
<li>ZFitter/src/anyVar_class.cc</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 26 Jan 2017 for ECALELF by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
