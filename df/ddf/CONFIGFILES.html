<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ECALELF: Config files</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ECALELF
   &#160;<span id="projectnumber">d6718b6cc30d69f18fde9018c5ae12f9d80bd7a5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../index.html">index</a></li><li class="navelem"><a class="el" href="../../da/db7/NTUPLEPRODUCTION_.html">Ntuple production</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Config files </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ALCARECO and ALCARAW private production logic.</p>
<p>production</p>
<ul>
<li>alcaraw_datasets.dat</li>
<li>alcareco_datasets.dat</li>
<li>alcarereco_datasets.dat</li>
<li>ntuple_datasets.dat</li>
</ul>
<ul>
<li>For each line one crab task is created.</li>
<li>Their contents are not exactly the same.</li>
<li>Lines can be commented with a # at the beginning of the line.</li>
<li>Columns are separated by TAB.</li>
</ul>
<h1><a class="anchor" id="alcarawDatasetsFormat"></a>
alcaraw_datasets.dat</h1>
<pre class="fragment"># RUNRANGE     DATASETPATH                                                 DATASETNAME                             STORE_PATH_BASE   USER_REMOTE_DIR_BASE                  VALIDITY   PERIOD
190456-193621  /DoubleElectron/Run2012A-ZElectron-13Jul2012-v1/RAW-RECO    DoubleElectron-ZSkim-RUN2012A-13Jul-v1  caf               group/alca_ecalcalib/ecalelf/alcaraw  VALID      RUN2012ABC,Cal_Nov2012
</pre><p>For each line a crab task is created</p>
<ul>
<li>RUNRANGE: only events in the indicated run range are processed</li>
<li>DATASETPATH: This is the real DBS dataset path (full name)</li>
<li>DATASETNAME: This is a short name which will be used now on to refer to the specified DATASET. The DATASETNAME is used in the construction of the output folders!</li>
<li>STORE_PATH_BASE: indicates the storage element where to store the output it can be: caf or T2_IT_Rome (if other are needed, please contact cms-ecalelf-devel)</li>
<li>USER_REMOTE_DIR: this is the directory on the Storage Element under the store/ folder Usually files are stored on the T2_CH_CERN EOS system in the ALCA group folders: group/alca_ecalcalib/ecalelf/alcaraw (private production) It can be "database" that indicates that the dataset is published and available in DBS (e.g. official ALCARECO)</li>
<li>VALIDITY (only meaningful for ALCARAW): for each line in this file the corresponding ALCARAW files are present on EOS. There can be the necessity to exclude from the RERECO process some ALCARAW datasets because obsolete or superseeded by others. For example a new alcaraw can be produced on the same run range using a newer central rereco, in this way the RECO quantities in the alcaraw have better conditions, like eleID and iso variables. Possible values are:<ul>
<li>VALID (good for rereco)</li>
<li>INVALID (not used for rereco) In this way it's not necessary to remove the files from EOS and in the alcaraw_datasets.dat there is always the list of folders and files present on EOS.</li>
</ul>
</li>
<li>PERIOD: in case of rereco, you want to run on more than one line (more run ranges). To make life easier, a comma separated list of "periods" can be associated to the line. In this way, when launching a rereco, we can specify just the period and all the lines associated to it will be rerecoed (if valid!)</li>
</ul>
<h1><a class="anchor" id="alcarecoDatasetsFormat"></a>
alcareco_datasets.dat</h1>
<p>In this file are reported all the datasets for which the ALCARECO is produced with the same sintax as alcaraw_datasets.dat . They can be produced centrally in ALCARECO format (prompt or rerecoes) or produced by the user from AOD or RECO or MC (AODSIM). For the official alcareco, it has to be indicated using the word "database" instead of group/alca_ecalcalib/ecalelf/alcareco and ZAlcaSkim in the dataset name to keep memory of the origin of the ALCARECO (if you want to produce the same privately for example). e.g. DoubleElectron-ZAlcaSkim-RUN2012D-22Jan-v1 (centrally produced) instead of DoubleElectron-ZSkim-RUN2012D-22Jan-v1 (private production)</p>
<h1><a class="anchor" id="alcarerecoDatasetsFormat"></a>
alcarereco_datasets.dat</h1>
<p>This file is filled automatically by the rereco scripts.</p>
<p>One example line is: </p>
<pre class="fragment"># RUNRANGE      DATASETPATH     DATASETNAME     STORE_PATH_BASE USER_REMOTE_DIR ALCARAW_REMOTE_DIR      TAG
190456-193621   /DoubleElectron/Run2012A-ZElectron-13Jul2012-v1/RAW-RECO        DoubleElectron-ZSkim-RUN2012A-13Jul-v1  caf.cern.ch     group/alca_ecalcalib/ecalelf/alcarereco      group/alca_ecalcalib/ecalelf/alcaraw    Cal_Nov2012_ICEle_v1
</pre><p>In this file there are two additional fields:</p>
<ul>
<li>ALCARAW_REMOTE_DIR: this is the output directory where of the ALCARAW production step, if for any reason the standard ALCARAW is produced elsewhere, this should be reported here by the rereco script (you should provide this information with the script option)</li>
<li>TAG: this is the "rereco name". This will be explained better in the rereco section</li>
</ul>
<h4>OUTPUT DIRECTORIES:</h4>
<p>The remote directory in the storage element is set as follows: </p>
<pre class="fragment">USER_REMOTE_DIR=$USER_REMOTE_DIR_BASE/${ENERGY}/${DATASETNAME}/${DATASETNAME}-${RUNRANGE:-allRange}
</pre><p> where ENERGY is 7TeV for 2011 datasets and 8TeV for 2012 datasets </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
